syntax = "proto3";

package heartbeat_system;

service HeartBeat {
  rpc RegisterNode (NodeInfo) returns (RegistrationStatus);
  rpc Heartbeat (HeartbeatRequest) returns (HeartbeatResponse);
}

message NodeInfo {
  string node_id = 1;
  string address = 2;
}

message RegistrationStatus {
  bool success = 1;
  int64 broker_id = 2;
  string message = 3;
}

message HeartbeatRequest {
  string node_id = 1;
}

message HeartbeatResponse {
  bool alive = 1;
}

