syntax = "proto3";

service PubSub {
    // Allows a publish to try to publish a message
    rpc Publish(GRPCPublishRequest) returns (GRPCPublishResponse);
}

// Request containing address and port of sender (new broker)
message GRPCPublishRequest {
    uint32 ack_level = 1;
    uint64 topic = 2;
    bytes payload = 3; // TODO: this is limited to be 2**23
}

// Empty response for now
message GRPCPublishResponse {
    uint32 error = 1;
}